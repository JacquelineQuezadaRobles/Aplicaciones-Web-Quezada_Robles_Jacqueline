<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vista Producto</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function actualizarStock() {
            const urlParams = new URLSearchParams(window.location.search);
            const producto = urlParams.get('producto');
            const precio = urlParams.get('precio');
            const stock = parseInt(urlParams.get('stock'));

            document.getElementById('nombreProducto').textContent = producto;
            document.getElementById('precioProducto').textContent = "Precio: $" + precio;
            document.getElementById('stockProducto').textContent = "Stock disponible: " + stock;

            document.getElementById('comprarBtn').addEventListener('click', function() {
                const cantidad = parseInt(document.getElementById('cantidad').value);
                if (cantidad > stock) {
                    alert("No hay suficiente stock.");
                } else {
                    const nuevoStock = stock - cantidad;
                    document.getElementById('stockProducto').textContent = "Stock disponible: " + nuevoStock;
                    alert("Has comprado " + cantidad + " unidad(es) de " + producto);
                }
            });
        }
    </script>
</head>
<body onload="actualizarStock()">
    <h1 id="nombreProducto"></h1>
    <p id="precioProducto"></p>
    <p id="stockProducto"></p>

    <label for="cantidad">¿Cuántas unidades quieres comprar?</label>
    <input type="number" id="cantidad" name="cantidad" min="1" value="1">
    <button id="comprarBtn">Comprar</button>

    <br><br>
    <a href="index.html#catalogo"><button>Regresar al catálogo</button></a>
</body>
</html>